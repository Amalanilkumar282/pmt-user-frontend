@if (isStateReady()) {
<!-- Mobile Overlay -->
<div *ngIf="!isCollapsed()" class="sidebar-overlay mobile-only" (click)="setCollapsed(true)"></div>

<aside class="sidebar" [class.collapsed]="isCollapsed()">
  <!-- Logo and Header -->
  <div class="sidebar-header">
    <div class="logo-container">
      <div class="logo-icon">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M13 2L3 14h8l-1 8 10-12h-8l1-8z"
            fill="white"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <div class="logo-text" *ngIf="!isCollapsed()">
        <div class="logo-title">ProjectFlow</div>
        <div class="logo-subtitle">Team Workspace</div>
      </div>
    </div>
    <!-- Desktop Toggle Button -->
    <button class="toggle-btn desktop-only" (click)="toggleCollapse()" aria-label="Toggle sidebar">
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          *ngIf="isCollapsed()"
          d="M9 18l6-6-6-6"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          *ngIf="!isCollapsed()"
          d="M15 18l-6-6 6-6"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>
  </div>

  <!-- Navigation Menu -->
  <nav class="sidebar-nav">
    <a href="#" class="nav-item active" [title]="isCollapsed() ? 'Dashboard' : ''">
      <svg
        class="nav-icon"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
        <rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
        <rect x="3" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
        <rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
      </svg>
      <span *ngIf="!isCollapsed()">Dashboard</span>
    </a>

    <a href="#" class="nav-item" [title]="isCollapsed() ? 'Recent' : ''">
      <svg
        class="nav-icon"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" />
        <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
      </svg>
      <span *ngIf="!isCollapsed()">Recent</span>
    </a>

    <a href="#" class="nav-item" [title]="isCollapsed() ? 'Projects' : ''">
      <svg
        class="nav-icon"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M3 7h18M3 12h18M3 17h18"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
        <rect
          x="2"
          y="4"
          width="20"
          height="16"
          rx="2"
          stroke="currentColor"
          stroke-width="2"
          fill="none"
        />
      </svg>
      <span *ngIf="!isCollapsed()">Projects</span>
    </a>

    <a href="#" class="nav-item" [title]="isCollapsed() ? 'Starred' : ''">
      <svg
        class="nav-icon"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
          stroke="currentColor"
          stroke-width="2"
          stroke-linejoin="round"
          fill="none"
        />
      </svg>
      <span *ngIf="!isCollapsed()">Starred</span>
    </a>

    <a href="#" class="nav-item" [title]="isCollapsed() ? 'Settings' : ''">
      <svg
        class="nav-icon"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" />
        <path
          d="M12 6v6m0 0v0m0 0h4.5"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
        <circle cx="12" cy="12" r="2" fill="currentColor" />
        <path
          d="M15 15l3 3m-12-3l-3 3m12-12l3-3m-12 0l-3-3"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
      </svg>
      <span *ngIf="!isCollapsed()">Settings</span>
    </a>
  </nav>

  <!-- Recent Projects Section -->
  <div *ngIf="!isCollapsed()" class="recent-projects">
    <div class="section-title">Recent Projects</div>
    <div class="project-list">
      <a href="#" class="project-item">
        <span class="project-dot"></span>
        <span class="project-name">My Scrum Project</span>
      </a>
      <a href="#" class="project-item">
        <span class="project-dot"></span>
        <span class="project-name">My Scrum Project</span>
      </a>
    </div>
  </div>
</aside>
}
