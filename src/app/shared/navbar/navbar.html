<nav class="navbar">
  <!-- Upper section with project info and buttons -->
  <div class="navbar-top">
    <div class="navbar-container">
      <!-- Left Section: Hamburger Menu + Project Info -->
      <div class="navbar-left">
        <button class="hamburger-btn" (click)="onToggleSidebar()" aria-label="Toggle sidebar">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <!-- Right Section: Action Buttons -->
      <div class="navbar-right">
        <app-searchbar
          (openCreateModal)="handleOpenCreateModal($event)"
          (showSummary)="handleShowSummary($event)"
          (showWarning)="handleShowWarning($event)">
        </app-searchbar>
        <button class="btn-primary" (click)="onCreate()">Create</button>
          <div style="position: relative; display: inline-block;">
            <button class="btn-secondary" (click)="onNotificationClick()" aria-label="Notifications" style="position: relative;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C8.686 2 6 4.686 6 8v5c0 .553-.447 1-1 1H4c-.553 0-1 .447-1 1v1c0 .553.447 1 1 1h16c.553 0 1-.447 1-1v-1c0-.553-.447-1-1-1h-1c-.553 0-1-.447-1-1V8c0-3.314-2.686-6-6-6zm0 20c1.104 0 2-.896 2-2h-4c0 1.104.896 2 2 2z" fill="#3D62A8"/>
              </svg>
              <span *ngIf="unreadCount > 0" style="position: absolute; top: 2px; right: 0px; min-width: 18px; height: 18px; background: #ef4444; color: #fff; font-size: 12px; font-weight: bold; border-radius: 50%; display: flex; align-items: center; justify-content: center; padding: 0 4px; border: 2px solid #fff; pointer-events: none;">{{ unreadCount }}</span>
            </button>
            <div *ngIf="showNotificationModal" style="position: fixed; inset: 0; z-index: 1999;" (click)="closeNotificationModal()">
              <div style="position: absolute; top: 64px; right: 0; min-width: 300px; max-width: 400px; background: #fff; box-shadow: 0 4px 16px rgba(0,0,0,0.22); border-radius: 8px; padding: 16px 28px;" (click)="$event.stopPropagation()">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <h3 class="text-2xl font-semibold mb-2">Notifications</h3>
                  <button (click)="closeNotificationModal()" style="background: none; border: none; font-size: 18px; cursor: pointer;">&times;</button>
                </div>
                <div *ngIf="notifications.length; else noNotifications" style="max-height: 320px; overflow-y: auto;">
                  <ul>
                    <li *ngFor="let n of notifications" class="mb-3 pb-2 border-b border-gray-200">
                      <div class="font-semibold text-[#3D62A8] text-base" style="display: flex; align-items: center; gap: 6px;">
                        <span *ngIf="n.unread" style="display: inline-block; width: 8px; height: 8px; border-radius: 50%; background: #2563eb;"></span>
                        {{ n.title }}
                      </div>
                      <div class="text-sm text-gray-700">{{ n.message }}</div>
                      <div class="text-xs text-gray-400 mt-1">{{ n.time }}</div>
                    </li>
                  </ul>
                </div>
                <ng-template #noNotifications>
                  <div class="text-gray-500 text-sm">No notifications.</div>
                </ng-template>
              </div>
            </div>
          </div>
          <!-- // Create a React + Tailwind CSS component for a user profile dropdown menu.
// It should look exactly like a floating account menu similar to Jira or Confluence.
//
// ðŸ”² Overall Layout
// - White floating panel with rounded corners (~8px) and soft shadow.
// - Vertically stacked content (flex column) with clean spacing and padding.
// - About 250â€“280px wide.
//
// ðŸ‘¤ Top Section (User Info)
// - Circular avatar on the left with initials "NN" in white text.
// - Avatar background: solid orange-red (#D93025).
// - Next to avatar, show:
//   â€¢ Name: "Nadim Naisam" (bold, dark gray #202124)
//   â€¢ Email: "nadim.naisam@experionglobal.com" (smaller, gray #5F6368)
// - Slight padding around this section, bottom border divider (#E0E0E0).
//
// âš™ï¸ Menu Options (Vertical List)
// Each menu item should be a clickable row with left icon (emoji or lucide-react icon).
// Padding: ~8â€“12px vertically.
// On hover: background turns light gray (#F5F5F5), cursor: pointer, slight rounded corners.
//
// Options in order:
// 1. ðŸ‘¤ Profile
// 2. âš™ï¸ Account settings
// 3. ðŸŒ“ Theme (has a right arrow â€º at the end for submenu)
// ---- divider line ----
// 4. Open Quickstart (text only, no icon)
// 5. ðŸ‘¥ Switch account
// 6. ðŸšª Log out (text and icon in red color)
//
// ðŸ§­ Behavior
// - Appears as a popover anchored to top-right avatar.
// - Should close when clicking outside or pressing Esc.
// - Support keyboard navigation (optional).
//
// ðŸ“ Styling (Tailwind suggestions)
// - bg-white rounded-lg shadow-lg p-4 w-64 flex flex-col
// - text-sm text-gray-700
// - border-gray-200 dividers
//
// Example structure Copilot should produce:
// <div class="w-64 bg-white rounded-lg shadow-lg p-4 flex flex-col space-y-2">
//   [User info header with avatar + name + email]
//   [Menu buttons with hover effects and divider]
// </div>
//
// Please output a complete, self-contained React functional component
// (e.g. `export default function ProfileMenu() { ... }`) using TailwindCSS classes. -->

          <button class="btn-profile" (click)="onProfileClick()" aria-label="Profile" style="position: relative; width: 32px; height: 32px; border-radius: 50%; overflow: hidden; border: none; background: #f3f4f6; display: flex; align-items: center; justify-content: center;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="8" r="4" fill="#3D62A8"/>
              <rect x="6" y="16" width="12" height="4" rx="2" fill="#3D62A8"/>
            </svg>
          </button>
          <div *ngIf="showProfileModal" style="position: fixed; inset: 0; z-index: 1999;" (click)="closeProfileModal()">
            <div style="position: absolute; top: 72px; right: 56px; width: 340px; background: #fff; border-radius: 12px; box-shadow: 0 8px 32px rgba(60,72,100,0.16); padding: 0; display: flex; flex-direction: column; font-family: 'Segoe UI', Arial, sans-serif;" (click)="$event.stopPropagation()">
              <!-- User Info Header -->
              <div style="display: flex; align-items: center; padding: 20px 20px 16px 20px; border-bottom: 1px solid #ececec;">
                <div style="width: 48px; height: 48px; border-radius: 50%; background: #D93025; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 1.25rem; color: #fff; margin-right: 16px; box-shadow: 0 2px 8px rgba(217,48,37,0.10);">NN</div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; color: #202124; font-size: 1.1rem;">Nadim Naisam</div>
                  <div style="font-size: 0.98rem; color: #5F6368; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 220px;">nadim.naisam@experionglobal.com</div>
                </div>
              </div>
              <!-- Menu Options -->
              <div style="display: flex; flex-direction: column; padding: 10px 0; gap: 2px;">
                <button style="display: flex; align-items: center; gap: 12px; padding: 8px 20px; background: none; border: none; width: 100%; text-align: left; font-size: 1.05rem; color: #222; cursor: pointer; transition: background 0.18s; font-weight: normal;" onmouseover="this.style.background='#ededed'" onmouseout="this.style.background='none'">
                  <span><i class="fa-regular fa-user" style="color: #000000;"></i></span> Profile
                </button>
                <button style="display: flex; align-items: center; gap: 12px; padding: 8px 20px; background: none; border: none; width: 100%; text-align: left; font-size: 1.05rem; color: #222; cursor: pointer; transition: background 0.18s; font-weight: normal;" onmouseover="this.style.background='#ededed'" onmouseout="this.style.background='none'">
                  <span><i class="fa-solid fa-arrow-right-from-bracket" style="color: #030303;"></i>
 </span> <span style="color:#222;">Log out</span>
                </button>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>

  <!-- Horizontal divider -->
  <div class="navbar-divider"></div>

  <!-- Lower section with navigation tabs -->
  <div class="navbar-bottom">
    <div class="navbar-container">
      <div class="navbar-center">
        @if (currentProjectId()) {
          <a [routerLink]="['/projects', currentProjectId(), 'summary']" routerLinkActive="active" class="nav-tab">Summary</a>
          <a [routerLink]="['/projects', currentProjectId(), 'backlog']" routerLinkActive="active" class="nav-tab">Backlog</a>
          <a [routerLink]="['/projects', currentProjectId(), 'board']" routerLinkActive="active" class="nav-tab">Board</a>
          <a [routerLink]="['/projects', currentProjectId(), 'timeline']" routerLinkActive="active" class="nav-tab">Timeline</a>
          <a [routerLink]="['/projects', currentProjectId(), 'report-dashboard']" routerLinkActive="active" class="nav-tab">Reports</a>
        } @else {
          <a routerLink="/projects" routerLinkActive="active" class="nav-tab">Projects</a>
          <a routerLink="/dashboard" routerLinkActive="active" class="nav-tab">Dashboard</a>
        }
        <button class="nav-more">
          <span>+</span>
        </button>
      </div>
    </div>
  </div>

 
</nav>

<!-- Summary Modal -->
<app-summary-modal
  [show]="showSummaryModal"
  [summary]="summaryText"
  (close)="closeSummaryModal()">
</app-summary-modal>

<!-- Warning Modal (reuse summary modal with different styling) -->
<app-summary-modal
  [show]="showWarningModal"
  [summary]="warningText"
  (close)="closeWarningModal()">
</app-summary-modal>
  