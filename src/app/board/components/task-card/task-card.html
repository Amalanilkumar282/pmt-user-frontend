<div class="task-card" [ngClass]="colorClass" (click)="open.emit(issue)">
  <div class="content" cdkDragHandle>
    <div class="flex items-start justify-between">
      <div>
        <div class="text-xs font-mono text-slate-400">{{ issue.id }}</div>
        <div class="title">{{ issue.title }}</div>
      </div>
      <div class="meta text-right">
        <div class="text-xs px-2 py-0.5 rounded-full font-medium" [ngClass]="getPriorityClass(issue.priority)">
          {{ issue.priority }}
        </div>
      </div>
    </div>

    <p class="meta mt-2">{{ issue.description }}</p>

    <div class="flex items-center justify-between mt-3 text-xs text-gray-500">
      <div class="flex items-center gap-2">
        <div class="w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center font-medium text-gray-700" [title]="issue.assignee || 'Unassigned'">{{ getInitials(issue.assignee) }}</div>
        <span *ngIf="issue.storyPoints" class="px-1.5 py-0.5 bg-gray-100 rounded">{{ issue.storyPoints }} SP</span>
      </div>
      <div class="flex items-center gap-2">
        <span *ngFor="let label of issue.labels" class="px-2 py-0.5 bg-blue-50 text-blue-700 rounded-full">{{ label }}</span>
      </div>
    </div>
  </div>
</div>
